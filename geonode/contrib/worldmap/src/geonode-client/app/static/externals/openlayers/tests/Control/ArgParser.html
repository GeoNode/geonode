<html>
<head>
  <script src="../OLLoader.js"></script>
  <script type="text/javascript">
      function test_getParameters(t) {
          t.plan(4);

          var c = new OpenLayers.Control.ArgParser(), p;

          p = c.getParameters('http://example.com?fook=foov&bark=barv');
          t.eq(p, {fook: 'foov', bark: 'barv'}, 'a) params are correct');

          p = c.getParameters('http://example.com#fook=foov&bark=barv');
          t.eq(p, {fook: 'foov', bark: 'barv'}, 'b) params are correct');

          p = c.getParameters('http://example.com?a=b&b=c#fook=foov&bark=barv');
          t.eq(p, {a: 'b', b: 'c', fook: 'foov', bark: 'barv'},
               'c) params are correct');

          p = c.getParameters('http://example.com?a=b&b=c&fook=a&bark=b#fook=foov&bark=barv');
          t.eq(p, {a: 'b', b: 'c', fook: 'foov', bark: 'barv'},
               'd) params are correct');
        }
    </script>
</head>
</html>
