<!DOCTYPE html>
<html debug="true">
  <head>
    <script src="http://extjs.cachefly.net/ext-3.4.0/adapter/ext/ext-base.js"></script>
    <script src="http://extjs.cachefly.net/ext-3.4.0/ext-all-debug.js"></script>
    <script type="text/javascript" src="../../../externals/openlayers/lib/OpenLayers.js"></script>
    <script type="text/javascript" src="../../../externals/geoext/lib/GeoExt.js"></script>
    <script type="text/javascript" src="../../../src/script/loader.js"></script>

    <script type="text/javascript">
       
        function test_Measure(t) {
            t.plan(1);
            
            var instance = new gxp.plugins.Measure();
            
            t.ok(instance instanceof gxp.plugins.Measure, "Instance created successfully");
        }

        function test_initialConfig(t) {
            t.plan(2);
            var controlOptions = {immediate: true};
            var instance = new gxp.plugins.Measure({controlOptions: controlOptions});
            var control = instance.createMeasureControl(OpenLayers.Handler.Path, "measure length");
            t.ok(controlOptions.geodesic === undefined, "controlOptions initialConfig is not modified");
            t.eq(control.immediate, true, "immediate option set correctly on Measure Control");
        }

    </script>
  </head>
  <body>
  </body>
</html>
