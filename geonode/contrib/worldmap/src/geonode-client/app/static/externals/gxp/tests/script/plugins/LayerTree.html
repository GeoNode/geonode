<!DOCTYPE html>
<html debug="true">
  <head>
    <script src="http://extjs.cachefly.net/ext-3.4.0/adapter/ext/ext-base.js"></script>
    <script src="http://extjs.cachefly.net/ext-3.4.0/ext-all-debug.js"></script>
    <script type="text/javascript" src="../../../externals/openlayers/lib/OpenLayers.js"></script>
    <script type="text/javascript" src="../../../externals/geoext/lib/GeoExt.js"></script>
    <script type="text/javascript" src="../../../src/script/loader.js"></script>

    <script type="text/javascript">
       
        function test_LayerTree(t) {
            t.plan(4);

            var tool = new gxp.plugins.LayerTree({
                groups: {
                    "mygroup": {
                        title: "My Group",
                        expanded: false,
                        iconCls: "foo"
                    }
                }
            });
            t.ok(tool instanceof gxp.plugins.LayerTree, "Instance created successfully");
            var target = {tools: {}, on: function(){}, mapPanel: {layers: new GeoExt.data.LayerStore()}};
            tool.init(target);
            var tree = tool.addOutput();
            var node = tree.getRootNode().childNodes[0];
            t.eq(node.attributes.text, "My Group", "text set to the provided value");
            t.eq(node.attributes.expanded, false, "expanded set to the provided value");
            t.eq(node.attributes.iconCls, "foo", "iconCls set to the provided value");
        }

    </script>
  </head>
  <body>
  </body>
</html>
