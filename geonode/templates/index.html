{% extends "page_layout.html" %}
{% load i18n %}
{% block title %} {% trans "Welcome!" %} - {{ block.super }} {% endblock %}
{% block indexclass %} class="here" {% endblock %}

{% block head %}
{{ block.super }}
<script type="text/javascript" src="{{ GEONODE_CLIENT_LOCATION }}externals/misc/jquery.simplemodal.1.4.4.min.js"></script>
<link rel="stylesheet" type="text/css" href="{{ GEONODE_CLIENT_LOCATION }}externals/misc/simplemodal.css" />
<script type="text/javascript" src="{{ GEONODE_CLIENT_LOCATION }}externals/misc/jquery.nivo.slider.pack.js"></script>
<link rel="stylesheet" type="text/css" href="{{ GEONODE_CLIENT_LOCATION }}externals/misc/nivo-slider.css" />

<script type="text/javascript">
    $(window).load(function() {
        $('#slider').nivoSlider({
            effect:'fade', // Specify sets like: 'fold,fade,sliceDown'
            slices:15, // For slice animations
            boxCols: 8, // For box animations
            boxRows: 4, // For box animations
            animSpeed:500, // Slide transition speed
            pauseTime:3000, // How long each slide will show
            startSlide:0, // Set starting Slide (0 index)
            directionNav:true, // Next & Prev navigation
            directionNavHide:false, // Only show on hover
            controlNav:false, // 1,2,3... navigation
            controlNavThumbs:false, // Use thumbnails for Control Nav
            controlNavThumbsFromRel:false, // Use image rel for thumbs
            controlNavThumbsSearch: '.jpg', // Replace this with...
            controlNavThumbsReplace: '_thumb.jpg', // ...this in thumb Image src
            keyboardNav:true, // Use left & right arrows
            pauseOnHover:true, // Stop animation while hovering
            manualAdvance:false, // Force manual transitions
            captionOpacity:0.8, // Universal caption opacity
            prevText: 'Prev', // Prev directionNav text
            nextText: 'Next', // Next directionNav text
            beforeChange: function(){}, // Triggers before a slide transition
            afterChange: function(){}, // Triggers after a slide transition
            slideshowEnd: function(){}, // Triggers after all slides have been shown
            lastSlide: function(){}, // Triggers when last slide is shown
            afterLoad: function(){} // Triggers when slider has loaded
        });
    });

    function startVideoOnOpen() {
        $('#youtube_video').attr('src', 'https://www.youtube.com/embed/Ajctx6h1t5s?autoplay=1');
    }

</script>

<style type="text/css">
    .wmButton {
        -moz-box-shadow:inset 0px 1px 0px 0px #bbdaf7;
        -webkit-box-shadow:inset 0px 1px 0px 0px #bbdaf7;
        box-shadow:inset 0px 1px 0px 0px #bbdaf7;
        background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #79bbff), color-stop(1, #378de5) );
        background:-moz-linear-gradient( center top, #79bbff 5%, #378de5 100% );
        filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#79bbff', endColorstr='#378de5');
        background-color:#79bbff;
        -moz-border-radius:6px;
        -webkit-border-radius:6px;
        border-radius:6px;
        border:1px solid #84bbf3;
        display:inline-block;
        color:#ffffff;
        font-family:arial;
        font-size:16px;
        font-weight:bold;
        padding:6px 24px;
        text-decoration:none;
        text-shadow:1px 1px 0px #528ecc;
        width:150px;
    }.wmButton:hover {
         background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #378de5), color-stop(1, #79bbff) );
         background:-moz-linear-gradient( center top, #378de5 5%, #79bbff 100% );
         filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#378de5', endColorstr='#79bbff');
         background-color:#378de5;
     }.wmButton:active {
          position:relative;
          top:1px;
      }
</style>
{% endblock %}

{% block main %}
<div class="onecol">
    <!-- TODO: i18n on the text here -->
    <div id="content">
        <div id="buttonsDiv" style="clear:both;margin: 0 auto;height:10px;width:625px" align="center">
            <div  style="float:left;padding-right:10px;"><a class="wmButton"  href="/maps/new">{% trans "Create a Map" %}</a></div>
            <div  style="float:left;padding-right:10px;"><a  class="wmButton" href="/maps/search?sort=last_modified&dir=DESC">{% trans "View a Map" %}</a></div>
            <div style="float:left;"><a  class="wmButton" href="http://about.worldmap.harvard.edu/">{% trans "About" %}</a></div>
        </div>

        <div id="slider-wrapper">
            <div id="slider" class="nivoSlider">
                <a href="/japanmap/"><img src="{{STATIC_URL}}theme/img/slide-japan.jpg" alt="Japan Map" title="#japan_caption"></a>
                <a href="/boston/"><img src="{{STATIC_URL}}theme/img/slide-boston.jpg" alt="Boston Research Map" title="#boston_caption"></a>
                <a href="/chinamap/"><img src="{{STATIC_URL}}theme/img/slide-china.jpg" alt="ChinaMap" title="#chinamap_caption"></a>
                <a href="/maps/giza/"><img src="{{STATIC_URL}}theme/img/slide-giza.jpg" alt="Giza Map" title="#giza_caption"></a>
                <a href="/africamap/"><img src="{{STATIC_URL}}theme/img/slide-africa.jpg" alt="AfricaMap" title="#africamap_caption"></a>
            </div>
        </div>
        <div id="africamap_caption" class="nivo-html-caption"><a href="/africamap/">{% trans "AfricaMap" %}</a></div>
        <div id="chinamap_caption" class="nivo-html-caption"><a href="/chinamap/">{% trans "ChinaMap" %}</a></div>
        <div id="boston_caption" class="nivo-html-caption"><a href="/boston/">{% trans "Boston Research Map" %}</a></div>
        <div id="giza_caption" class="nivo-html-caption"><a href="/giza/">{% trans "Giza Map" %}</a></div>
        <div id="japan_caption" class="nivo-html-caption"><a href="/japan/">{% trans "Japan's 2011 Disasters" %}</a></div>

        <div style="clear:both;padding: 20px;width:800px;margin: 0 auto;">
            <div style="position:relative;float:left;font-size: 14pt;font-weight:bold;height:220px;width:460px;top:40px;">
                {% trans "Build your own mapping portal and publish it to the world or to just a few collaborators. WorldMap is open source software." %}
            </div>
            <div style="position:relative;float:right;font-size: 10pt;font-weight:bold;height:250px;width:340px;text-align:center;">
                <a href='' onclick='$("#tutorial_block").modal();startVideoOnOpen();return false;'>
                    <img src="{{STATIC_URL}}theme/img/youtube_tutorial.png" border="0" /><br/>{% trans "Watch the WorldMap Quick Start video" %}
                </a>
            </div>

            <div style="margin: 0 auto;clear:both;">{% trans "WorldMap is being developed by the <a href='http://gis.harvard.edu/'>Center for Geographic Analysis</a> at <a href='http://www.harvard.edu'>Harvard University</a>." %}</div>

        </div>


        <div id="tutorial_block" style="display:none;width:640px;height:400px">
            <iframe id="youtube_video" class="youtube-player" type="text/html"  width="640" height="400" src="http://www.youtube.com/embed/Ajctx6h1t5s" frameborder="0"></iframe>
        </div>




    </div>
</div>
{% endblock %}
