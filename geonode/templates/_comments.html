{% load dialogos_tags %}
{% load bootstrap_tags %}
{% load pagination_tags %}
{% load url from future %}
<div class="comments">
    <header>
        <h3>Comments <span class="total">({% comment_count obj %} total)</span></h3>
        <div class="pages">
            <span>results 1-5 of 5</span>
            <ul class="pager">
              <li>
                <a href="#" class="prev">Previous</a>
              </li>
              <li>page 1 of 1</li>
              <li>
                <a href="#" class="next">Next</a>
              </li>
            </ul>
        </div>
        {% if user.is_authenticated %}<a href="#form_post_comment" class="btn pull-right" data-toggle="collapse" data-target="#form_post_comment">add comment</a>{% endif %}
    </header>
    {% if user.is_authenticated %}
    {% comment_form obj as form %}
    <form action="{% comment_target obj %}" method="POST" class="collapse form form-bordered" id="form_post_comment">
      {% csrf_token %}
      {{ form|as_bootstrap }}
      <div class="form-actions">
        <button class="btn btn-primary">Submit Comment</button>
      </div>
    </form>
    {% endif %}
    {% comments obj as comment_list %}
    {% autopaginate comment_list 5 %}
    {% for comment in comment_list %}      
    <article>
        <p>{{ comment.comment }}</p>
        <footer><a href="{{ comment.author.get_profile.get_absolute_url }}" rel="author">{{ comment.author }}</a> on <time>{{ comment.submit_date|date:"M j, Y" }}</time></footer>
    </article>
    {% endfor %}
    {% paginate %}
</div>