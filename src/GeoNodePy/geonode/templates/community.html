{% extends "page_layout.html" %}
{% load i18n %}
{% load navbar %}

{% block title %} {% trans "Browse Maps" %} - {{ block.super }} {% endblock %}

{% block head %}
{% include "geonode/ext_header.html" %}
{% include "geonode/ux_header.html" %}
{% include "geonode/gxp_header.html" %}
{{ block.super }}
<script type="text/javascript">
Ext.onReady(function(){

{% autoescape off %}
  var submitForm = function() {
      Ext.query('#search_form form')[0].submit();
  };
  var searchButton = new Ext.Button({renderTo: 'submit_search', text: '{% trans "Search" %}',
                                     handler: submitForm});
  var searchInput = new Ext.form.TextField({applyTo: 'search_query', width: 350});
{% endautoescape %}

});
</script> 
{% endblock %}

{% block nav %}
{% navbar community %}
{% endblock %}

{% block main %}

<div class="block">
  <h2>{% trans "Search" %} <span class="subtitle">{% trans "for maps" %}</span></h2>

  <form action="{% url maps_search %}" method="POST">
      {% csrf_token %}
      <table>
        <tr>
          <td>
          <input type="text" id="search_query" name="q" />
          </td>
          <td>
            <div id="submit_search"></div>
          </td>
        </tr>
      </table>
      <a href="{% url maps_search %}">{% trans "Advanced Search" %}</a>
  </form>
</div>

<div id="create" class="block">
  <h2>{% trans "Create Maps" %}</h2>
  <p>{% trans "We support Shapefile and GeoTIFF uploads." %}
  <a class="layer-upload-link" href="{% url geonode.maps.views.upload_layer%}">{% trans "Upload a new layer"  %}</a>
  </p>
</div>


<!-- "Your Maps" button goes here -->
<!-- create map button goes here -->
<p>
  <a href="{%url geonode.maps.views.newmap %}">{% trans "create your own map" %}</a>
  !
</p>


{% endblock %}

{% block sidebar %}
{% endblock %}

