{% extends "profiles/base.html" %}

{% load i18n avatar_tags %}

{% block main %}
  <table cellpadding="0" cellspacing="0" border="0" class="geonode-profile table table-striped table-bordered">
    <thead>
      <tr>
        <th>{% trans "Type" %}</th>
        <th>{% trans "Title" %}</th>
        <th>{% trans "Date" %}</th>
      </tr>
    </thead>
    <tbody>
      {% for layer in profile.user.layer_set.all %}
        <tr>
          <td>{% trans "Layer" %}</td>
          <td><a href="{{ layer.get_absolute_url }}">{{ layer.title }}</a></td>
          <td>{{ layer.date|date:"Y-m-d" }}</td>
        </tr>
      {% endfor %}

      {% for map in profile.user.map_set.all %}
        <tr>
          <td>{% trans "Map" %}</td>
          <td><a href="{{ map.get_absolute_url }}">{{ map.title }}</a></td>
          <td>{{ map.last_modified|date:"Y-m-d" }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}

{% block sidebar %}
  <div class="pull-right">{% avatar profile.user 70 %}</div>
  <h3>{{ profile.name }}</h3>
  {% if user == profile.user %}
    <ul class="nav nav-list">
      <li class="nav-header">{% trans "Actions" %}</li>
      {% if user == profile.user %}
        <li><a href="{% url profiles_edit_profile %}">{% trans "Edit profile information" %}</a></li>
        <li><a href="{% url auth_password_change %}">{% trans "Change password" %}</a></li>
      {% endif %}
      <li><a href="{% url data_upload %}">{% trans "Upload new data" %}</a></li>
      <li><a href="{% url map_new %}">{% trans "Create a new map" %}</a></li>
      <li class="nav-header">{% trans "Settings" %}</li>
      <li><a href="{% url profiles_edit_profile %}">{% trans "Edit profile information" %}</a></li>
    </ul>
  {% endif %}
{% endblock %}
